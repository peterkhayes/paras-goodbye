{"version":3,"sources":["messages.ts","components/space.png","components/Container.tsx","components/pizza-slice.png","components/PizzaImage.tsx","components/some_say_no.mp3","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["MESSAGES","Peter","Container","children","className","style","backgroundImage","spaceImg","PizzaImage","text","author","x","y","index","top","left","zIndex","alt","src","pizzaImg","MIN_COORD","MAX_COORD","INITIAL_PIZZAS","Array","fill","map","createPizza","App","useState","started","setStarted","pizzas","setPizzas","useEffect","audio","Audio","musicFile","loop","play","pause","interval","setInterval","existingPizzas","newPizzas","movePizza","filter","isInBounds","length","push","clearInterval","i","onClick","randInt","max","Math","floor","random","randFloat","min","arr","getStartPoint","speed","dx","dy","Object","keys","pizza","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","catch","err","console","error","ReactDOM","render","StrictMode","document","getElementById","log"],"mappings":"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","file":"static/js/main.8cca7a51.chunk.js","sourcesContent":["const MESSAGES: Record<string, string> = {\n  Peter:\n    \"Paras - It has been an absolute time working with you these last couple of years. I've loved having someone I respect and trust as a peer as we both transitioned into managers. Couldn't have done it without you. Wishing you all the best in your future encounters.\",\n};\n\nexport default MESSAGES;\n","export default __webpack_public_path__ + \"static/media/space.95ff8ed3.png\";","import spaceImg from './space.png';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nexport default function Container({ children }: Props) {\n  return (\n    <div\n      className=\"absolute inset-0 flex items-center justify-center overflow-hidden bg-black bg-repeat\"\n      style={{ backgroundImage: `url(${spaceImg})` }}\n    >\n      {children}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/pizza-slice.964c723b.png\";","import pizzaImg from './pizza-slice.png';\n\ninterface Props {\n  text: string;\n  author: string;\n  x: number;\n  y: number;\n  index: number;\n}\n\nexport default function PizzaImage({ text, author, x, y, index }: Props) {\n  // TODO: transforms to center?\n  return (\n    <div\n      className=\"absolute flex items-center justify-center -translate-x-1/2 -translate-y-1/2 w-96 h-72\"\n      style={{ top: `${100 * y}%`, left: `${100 * x}%`, zIndex: index }}\n    >\n      <img alt=\"pizza\" className=\"absolute inset-0\" src={pizzaImg} />\n      <div className=\"relative z-10 w-56 p-2 text-xs bg-white rounded bg-opacity-70 -top-4\">\n        <em>{text}</em> - <strong>{author}</strong>\n      </div>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/some_say_no.3d3e6720.mp3\";","import { useEffect, useState } from 'react';\n\nimport MESSAGES from '../messages';\nimport Container from './Container';\nimport PizzaImage from './PizzaImage';\n// @ts-ignore\nimport musicFile from './some_say_no.mp3';\n\ninterface FlyingPizza {\n  x: number;\n  y: number;\n  dx: number;\n  dy: number;\n  text: string;\n  author: string;\n}\n\n// const PIZZA_TEXTS: Array<string> = [\n//   \"I really loved working with you Paras!\",\n//   \"You're the best Paras!\",\n//   \"I remember that one time!!\",\n// ];\n\nconst MIN_COORD = -0.1;\nconst MAX_COORD = 1.1;\nconst MAX_SPEED = 0.001;\nconst FRAME_RATE = 60;\nconst FRAME_DELAY = 1000 / FRAME_RATE;\n\nconst SIMULTANEOUS_PIZZAS = 6;\nconst INITIAL_PIZZAS = new Array(SIMULTANEOUS_PIZZAS)\n  .fill(null)\n  .map(createPizza);\n\nexport default function App() {\n  const [started, setStarted] = useState(false);\n  const [pizzas, setPizzas] = useState(INITIAL_PIZZAS);\n\n  // Play music\n  useEffect(() => {\n    if (!started) return;\n    const audio = new Audio(musicFile);\n    audio.loop = true;\n    audio.play();\n    return () => audio.pause();\n  }, [started]);\n\n  // Move pizzas\n  useEffect(() => {\n    if (!started) return;\n    const interval = setInterval(\n      () =>\n        setPizzas((existingPizzas) => {\n          const newPizzas = existingPizzas.map(movePizza).filter(isInBounds);\n          while (newPizzas.length < existingPizzas.length) {\n            newPizzas.push(createPizza());\n          }\n          return newPizzas;\n        }),\n      FRAME_DELAY\n    );\n\n    return () => clearInterval(interval);\n  }, [started]);\n\n  return (\n    <Container>\n      {started ? (\n        pizzas.map(({ text, author, x, y }, i) => (\n          <PizzaImage\n            key={i}\n            text={text}\n            author={author}\n            x={x}\n            y={y}\n            index={i}\n          />\n        ))\n      ) : (\n        <button\n          className=\"p-4 bg-white rounded\"\n          onClick={() => setStarted(true)}\n        >\n          Start\n        </button>\n      )}\n    </Container>\n  );\n}\n\nfunction randInt(max: number) {\n  return Math.floor(Math.random() * max);\n}\n\nfunction randFloat(min: number, max: number) {\n  return min + Math.random() * (max - min);\n}\n\nfunction sample<X>(arr: Array<X>): X {\n  return arr[randInt(arr.length)];\n}\n\nfunction getStartPoint(): { x: number; y: number } {\n  const side = randInt(4);\n  switch (side) {\n    case 0:\n      // top\n      return { x: Math.random(), y: MIN_COORD };\n    case 1:\n      // bottom\n      return { x: Math.random(), y: MAX_COORD };\n    case 2:\n      // left\n      return { x: MIN_COORD, y: Math.random() };\n    default:\n      // right\n      return { x: MAX_COORD, y: Math.random() };\n  }\n}\n\nfunction isInBounds({ x, y }: { x: number; y: number }) {\n  return x >= MIN_COORD && x <= MAX_COORD && y >= MIN_COORD && y <= MAX_COORD;\n}\n\nfunction createPizza(): FlyingPizza {\n  const { x, y } = getStartPoint();\n  const speed = randFloat(0.7, 1) * MAX_SPEED;\n  const dx = (randFloat(0.4, 0.6) - x) * speed;\n  const dy = (randFloat(0.4, 0.6) - y) * speed;\n\n  const author = sample(Object.keys(MESSAGES));\n  const text = MESSAGES[author];\n\n  return { x, y, dx, dy, author, text };\n}\n\nfunction movePizza(pizza: FlyingPizza): FlyingPizza {\n  // Using mutable data here to make things faster\n  pizza.x = pizza.x + pizza.dx;\n  pizza.y = pizza.y + pizza.dy;\n  return pizza;\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    }).catch((err) => {\n      console.error(\"Error reporting web vitals\", err);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}